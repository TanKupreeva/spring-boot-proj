<!DOCTYPE html>
<html lang="ru">
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Details report</title>
    <link href="../static/css/style1.css" th:href="@{/css/style1.css}" rel="stylesheet"/>
    <style>
        table, th, td {
            border: 1px solid black;
            border-collapse: collapse;
            padding: 10px;
        }</style>
</head>
<body>
<h3 th:text="'ПРОТОКОЛ ИСПЫТАНИЙ'" align="center"/>
<p th:text="'по измерению вибрации'" align="center"/>
<p th:text="'№ ' +*{report.registrationNum}" align="center"/>
<p th:text="*{report.date}" align="right"/>
<br>

<p th:text="'Заказчик: служба ' +*{report.getGrs().name}+' филиала «'+*{report.getGrs().getClient().getUmg().name}"/>
<p th:text="'Контактные данные: служба ' +*{report.getGrs().getClient().address}+', т. '+*{report.getGrs().getClient().phone}+', ф. '+*{report.getGrs().getClient().fax}"/>
<p th:text="'Наименование объекта испытаний: нитки редуцирования ' +*{report.getGrs().name}"/>
<p th:text="'Цель испытаний: определение технического состояния'"/>
<p th:text="'ТНПА, устанавливающий требования к объекту испытаний: СТП СФШИ.02.23-2022'"/>
<p th:text="'ТНПА, устанавливающий требования на метод испытаний: ГОСТ ИСО 10816-1-97'"/>
<p th:text="'Дата проведения испытаний: ' +*{report.testDate}"/>
<br>
<br>
<b th:text="'Условия проведения испытаний: '"/><br><br>


<table>
    <tr>
        <th>Наименование помещения</th>
        <th>Дата определения параметров</th>
        <th>Температура, ℃</th>
        <th>Относительная влажность, %</th>
        <th>Способ крепления датчика</th>
        <th>Состояние поверхности контакта</th>
    </tr>

    <tr th:each="c : ${conditions}">
        <td th:text="*{c.place}">...</td>
        <td th:text="*{c.date}">...</td>
        <td th:text="*{c.temperature}">...</td>
        <td th:text="*{c.humidity}">...</td>
        <td th:text="*{c.sensor}">...</td>
        <td th:text="*{c.surfaceCondition}">...</td>
    </tr>
</table>
<br>
<br>

<b th:text="'Средства измерений, сведения о государственной поверке (калибровке): '"/><br><br>
<table>
    <tr>
        <th>Наименование средства измерения</th>
        <th>Тип (марка) средства измерения</th>
        <th>Заводской номер</th>
        <th>Номер свидетельства о поверке (калибровке)</th>
        <th>Срок действия до даты</th>
    </tr>


    <tr th:each="i : ${instruments}">
        <td th:text="*{i.name}">...</td>
        <td th:text="*{i.model}">...</td>
        <td th:text="*{i.factoryNumber}">...</td>
        <td th:text="*{i.certificateOfVerification}">...</td>
        <td th:text="*{i.validUntil}">...</td>
    </tr>
</table>
<br><br>

<b th:text="'Схема измерений вибрации: '"/><br><br>
<!--<img src="/css/scheme/скважина 131.png" align="center" alt="скважина 131.png" height="300" width="800"/></a><br>-->
<!--<img src="/images/${report.getImage()}" height="300" width="800"/>-->
<img th:src="@{${'/img/'+report.scheme}}"  width="800">
<br><br>


<b th:text="'Критерии оценки параметров вибрации: '"/><br><br>
<table>
    <tr>
<!--        <th rowspan="2">Измерительная точка</th>-->
        <th rowspan="2">Положение измерительной точки</th>
        <th rowspan="2">Параметр, единица измерения</th>
        <th colspan="5">Оценка параметров вибрации</th>
    </tr>
    <tr>
        <th>Отлично</th>
        <th>Хорошо</th>
        <th>Допустимо</th>
        <th>Требует принятия мер</th>
        <th>Недопустимо</th>
    </tr>

    <tr th:each="c : ${criterias}">
<!--        <td th:text="${listT}">...</td>-->
        <td th:text="${c.position}">...</td>
        <td th:text="${c.parameter}">...</td>
        <td th:text="${c.excellent.relationFrom}+''+${c.excellent.markFrom}+' '+${c.excellent.relationTo}+''+${c.excellent.markTo}">
            ...
        </td>
        <td th:text="${c.good.relationFrom}+''+${c.good.markFrom}+' '+${c.good.relationTo}+''+${c.good.markTo}">...</td>
        <td th:text="${c.acceptable.relationFrom}+''+${c.acceptable.markFrom}+' '+${c.acceptable.relationTo}+''+${c.acceptable.markTo}">
            ...
        </td>
        <td th:text="${c.requiresAction.relationFrom}+''+${c.requiresAction.markFrom}+' '+${c.requiresAction.relationTo}+''+${c.requiresAction.markTo}">
            ...
        </td>
        <td th:text="${c.unacceptable.relationFrom}+''+${c.unacceptable.markFrom}+' '+${c.unacceptable.relationTo}+''+${c.unacceptable.markTo}">
            ...
        </td>
    </tr>
</table>
<br><br>


<b th:text="'Результаты измерений вибрации: '"/><br><br>


<table>

    <tr>
        <th>№ нитки редуцирования</th>
        <th>Количество точек</th>
        <th>Рвх, МПа</th>
        <th>Рвых, МПа</th>
        <th>Расход, тыс.м<sup>3</sup>ч</th>
        <th>Просмотр измерений</th>

    </tr>
    <tr th:each="r : ${results}">
        <td th:text="*{r.numberN}"></td>
        <td th:text="*{r.quantityT}"></td>
        <td th:text="*{r.getPIn()}"></td>
        <td th:text="*{r.getPOut()}"></td>
        <td th:text="*{r.rate}"></td>
        <td><a th:href="@{'/detail_results/show/' + ${r.id}}"><img src="/css/img/show.png" align="center" alt="Измерения"  height="20" width="20"/></a></td>

    </tr>

</table>





<br><br>

<!--<b th:text="'Заключение: '"/>-->
<!--<p th:text="'ТЕКСТ'"/>-->
<!--<br><br>-->

<b th:text="'Правило принятия решения: '"/>
<p th:text="'правило «простое принятие» согласно LIAC G8:09/2019 без учёта неопределенности измерений. Результаты испытаний относятся только кобъектам, прошедшим испытания.'"/>
<br><br>
<b th:text="'Испытания провел: '+*{report.oifPersons}"/>
<!--<b th:each="person : ${persons}"-->
<!--     th:text="${person.function}+'__________________________'+${person.firstName}">...</b>-->


</table>
</body>
</html>